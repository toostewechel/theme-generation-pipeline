---
phase: 04-typography
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true

must_haves:
  truths:
    - "Primitive font tokens (font-family, font-weight, font-size, line-height, letter-spacing) appear as CSS variables under :root in dist/css/tokens.css"
    - "Individual typography property tokens (e.g. typography-display-large-font-size) appear as separate CSS variables under :root referencing primitives"
    - "Composite typography style tokens (e.g. display-lg) appear as CSS font shorthand variables under :root"
  artifacts:
    - path: "dist/css/tokens.css"
      provides: "All typography CSS variables"
      contains: "--display-lg:"
  key_links:
    - from: "src/tokens/typography.styles.tokens.json"
      to: "dist/css/tokens.css"
      via: "Style Dictionary typography/css transform"
      pattern: "--display-lg:.*font-weight.*font-size.*line-height.*font-family"
    - from: "src/tokens/typography.mode-1.tokens.json"
      to: "dist/css/tokens.css"
      via: "Style Dictionary css/extended transforms"
      pattern: "--typography-.*-font-(family|weight|size)"
    - from: "src/tokens/primitives-font.mode-1.tokens.json"
      to: "dist/css/tokens.css"
      via: "Style Dictionary css/extended transforms"
      pattern: "--font-(family|weight|size|line-height|letter-spacing)-"
---

<objective>
Verify that all Phase 4 typography requirements (TYPO-01, TYPO-02, TYPO-03) are satisfied by the existing build output. Research confirmed all three requirements are already met by the Phase 3 implementation — the css/extended transform group includes typography/css which converts DTCG typography composite tokens to CSS font shorthand automatically.

Purpose: Confirm no code changes are needed and close Phase 4 with verified evidence.
Output: Verified build output proving all typography requirements pass.
</objective>

<execution_context>
@/Users/tomoostewechel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/tomoostewechel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-typography/04-RESEARCH.md
@scripts/buildTokens.ts
@dist/css/tokens.css
@src/tokens/primitives-font.mode-1.tokens.json
@src/tokens/typography.mode-1.tokens.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify typography token output against all TYPO requirements</name>
  <files>dist/css/tokens.css</files>
  <action>
Run `npm run build:tokens` to regenerate output from current source. Then verify all three requirements against the generated dist/css/tokens.css:

**TYPO-03 (Primitive font tokens):** Confirm these primitive token categories appear as CSS variables under `:root`:
- `--font-family-*` tokens (serif, sans, mono)
- `--font-weight-*` tokens (semi-bold, medium, etc.)
- `--font-size-*` tokens (converted to rem)
- `--font-line-height-*` tokens (converted to rem)
- `--font-letter-spacing-*` tokens (converted to rem)

**TYPO-01 (Individual typography property tokens):** Confirm individual property tokens appear under `:root`:
- `--typography-*-font-family` tokens referencing `var(--font-family-*)`
- `--typography-*-font-weight` tokens referencing `var(--font-weight-*)`
- `--typography-*-font-size` tokens referencing `var(--font-size-*)`
- `--typography-*-line-height` tokens referencing `var(--font-line-height-*)`
- `--typography-*-letter-spacing` tokens referencing `var(--font-letter-spacing-*)`

**TYPO-02 (Composite typography styles):** Confirm composite tokens appear under `:root` as CSS font shorthand:
- `--display-lg` with format: `{font-weight} {font-size}/{line-height} {font-family}`
- `--heading-*` tokens in same shorthand format
- Verify letter-spacing is NOT included in shorthand (correct per CSS spec)

Count total tokens per category. If ANY requirement is not met, report exactly which tokens are missing.

Do NOT modify any files. This is verification only.
  </action>
  <verify>
Run these checks:
1. `npm run build:tokens` exits with code 0
2. `grep -c '\-\-font-family-' dist/css/tokens.css` returns >= 3 (serif, sans, mono)
3. `grep -c '\-\-font-weight-' dist/css/tokens.css` returns >= 2
4. `grep -c '\-\-font-size-' dist/css/tokens.css` returns >= 2
5. `grep -c '\-\-typography-.*-font-' dist/css/tokens.css` returns >= 5
6. `grep -c '\-\-display-\|--heading-\|--body-\|--label-' dist/css/tokens.css` returns >= 1 (composite tokens)
7. `grep '\-\-display-lg:' dist/css/tokens.css` shows font shorthand format (weight size/line-height family)
  </verify>
  <done>
All three typography requirements verified:
- TYPO-03: Primitive font tokens present as CSS variables under :root
- TYPO-01: Individual typography property tokens present as separate CSS variables under :root
- TYPO-02: Composite typography style tokens present as CSS font shorthand variables under :root
- No code changes were needed — Phase 3 implementation already handles typography correctly
  </done>
</task>

</tasks>

<verification>
1. `npm run build:tokens` completes successfully
2. dist/css/tokens.css contains primitive font tokens (--font-family-*, --font-weight-*, --font-size-*, --font-line-height-*, --font-letter-spacing-*)
3. dist/css/tokens.css contains individual typography property tokens (--typography-*-font-family, --typography-*-font-weight, etc.)
4. dist/css/tokens.css contains composite typography shorthand tokens (--display-lg, --heading-*, etc.)
5. Composite shorthand tokens follow CSS font shorthand format: weight size/line-height family
6. Letter-spacing is correctly excluded from composite shorthand tokens
</verification>

<success_criteria>
- All TYPO-01, TYPO-02, TYPO-03 requirements confirmed satisfied with evidence from build output
- Zero code changes made (verification-only phase)
- Build runs successfully and output is deterministic
</success_criteria>

<output>
After completion, create `.planning/phases/04-typography/04-01-SUMMARY.md`
</output>
